<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Phone-Verse{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="dark-theme">

<nav>
    <button class="hamburger" id="hamburger-btn">&#9776;</button>

    <div class="logo">
        <a href="{{ url_for('main.index') }}">
            <span style="color: #bb86fc;">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor"
                     class="bi bi-phone" viewBox="0 0 16 16">
                    <path
                        d="M11 1H5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM5 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H5z"/>
                    <path d="M8 14.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"/>
                </svg>
                Phone-Verse
            </span>
        </a>
    </div>

    <form class="search-form" method="GET" action="{{ url_for('main.index') }}">
        <input type="text" name="search" placeholder="Search phones..." value="{{ request.args.get('search', '') }}">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
             class="bi bi-search" viewBox="0 0 16 16">
            <path
                d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"/>
        </svg>
    </form>

    <div class="nav-links">
        {% if current_user.is_authenticated %}
            <span class="user-name">👤 {{ current_user.name }}</span>
            <a href="{{ url_for('main.cart') }}">🛒 Cart</a>
            <a href="{{ url_for('main.logout') }}">🔒 Logout</a>
        {% else %}
            <a href="{{ url_for('main.login') }}">🔑 Login</a>
            <a href="{{ url_for('main.register') }}">📝 Register</a>
        {% endif %}
    </div>
</nav>

<div class="main-content">
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="flash flash-{{ category }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}
    {% block content %}{% endblock %}
</div>

<footer>
    <p>&copy; 2025 Phone-Verse | Built by Anant</p>
</footer>

{% block scripts %}{% endblock %}

<script>
    const hamburgerBtn = document.getElementById("hamburger-btn");
    const sidebar = document.getElementById("sidebar");
    const content = document.querySelector(".main-content");

    hamburgerBtn?.addEventListener("click", () => {
        sidebar?.classList.toggle("show");
        content?.classList.toggle("shifted");
    });
</script>

</body>
</html>
